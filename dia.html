<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>dia2_promotion</title>
    <script
      type="text/javascript"
      src="https://www.jq22.com/demo/jQuery-SlotMachine-master/jquery-2.1.1.min.js"
    ></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/jquery-ui.min.js"></script>
    <script type="text/javascript" src="dia.js"></script>

    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }
      body {
        background: #000;
        color: #fff;
      }
      a {color:#fff;}
      .cubeWrap {
        display: flex;
        margin: 0 auto;
        max-width: 600px;
      }
      .controlWrap {
        display: flex;
        margin: 0 auto;
        max-width: 200px;
        justify-content: center;
        justify-content: center;
        flex-direction: column;
      }
      .controlWrap > div {
        display: flex;
      }
      .controlWrap > div > a {
        flex: 1;
      }
      .cubeBox {display: flex;flex-wrap: wrap;width:100%;position: relative;}
      .cubeBox li {display: flex;width: 150px;height: 150px;box-sizing: border-box;}
      .cubeBox li + li {margin-left:15px;}
      .cubeBox li span {position: absolute;z-index: 2;}
      .addRune {padding:5px;}
      .removeRune {padding:5px;}
      .cubeBoxResult{display: none;}
    </style>
    <script>
      $(function () {
        var $rune = $('.hadRune span')
        var coin = 10
        var boxNum = 0;
        var cubeBox = $('.cubeBox > li')
        
        $rune.text(coin)

        $('.btn').on('click', function (e) {
          if(coin <= 0){
            return alert('보유 중인 룬이 없습니다.')
          } else if(coin >= 1){    
            
            addRune()
          }
        });

        function addRune(){
          $('.addRune').on('click', function () {
            if(boxNum < cubeBox.length){
              boxNum++;
              cubeBox.eq(boxNum - 1).find('img').attr('src', '/images/rune.jpg')    
              coin--
            }
            console.log(coin)
            $rune.text(coin)
          })  
        }
        
      });
    </script>
  </head>

  <body>
    <div class="cubeWrap">
      <ul class="cubeBox">
        <li>
          <img src="" alt="">
          <div class="rc01 runeCount">x<span>1</span></div>
        </li>
        <li>
          <img src="" alt="">
          <div class="rc02 runeCount">x<span>6</span></div>
        </li>
        <li>
          <img src="" alt="">
          <div class="rc03 runeCount">x<span>4</span></div>
        </li>
      </ul>
      <div href="javascript:;" class="hadRune">
        보유 룬 <span>0</span> 개
      </div>
      <div class="cubeBoxResult">
        <img src="" alt="" />
        <p><span></span>당첨! 축하드립니다.</p>
        <p><span></span>이 지급되었습니다.</p>
      </div> 
    </div>
    <div class="controlWrap">
      <div>
        <a href="javascript:;" class="addRune">룬 추가</a>
        <a href="javascript:;" class="delRune">룬 삭제</a>
      </div>
      <button class="btn">합성하기</button>
    </div>
  </body>
</html>